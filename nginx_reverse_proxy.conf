upstream node {
   server node:8080;
}

upstream gunicorn {  
   server gunicorn:8000;
}

#El servidor node escucha el puerto 80 que equivale al 5555 del host
server {

    location /node/ {
        proxy_pass http://node/;    
    }    

    location /gunicorn/ {
        proxy_pass http://gunicorn/;
    }
}



# #Balanceador de carga
# upstream myproxy {
#     server servernodejs:8080;
#     server serverpython:8000;
# }

# server {

#     listen          80;  

#     location / {

#         proxy_pass http://myproxy;

#     }
#}


